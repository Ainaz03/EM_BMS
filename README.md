Сначала нужно скачать репозиторий по ссылке: https://github.com/Ainaz03/EM_BMS

Для запуска тестов необходимо ввести в конслои pytetst

Затем собрать и запустить контейнеры, должен быть установлен докер.

Пользоваться по адресу localhost блаблабла

Все эндпоинты можно проверить через Swagger по пути /docs

POST /auth/register - регистрирует нового пользователя, в теле отправляем:
{
  "email": "user@example.com",
  "password": "string",
  "is_active": true,
  "is_superuser": false,
  "is_verified": false,
  "role": "user"
} 
POST /auth/login - авторизация пользователя, в request body отправляем:username, password
POST /auth/logout - выйти из профиля




POST /teams Создание новой команды. Текущий пользователь становится её администратором.
принимает тело вида
{
  "name": "string"
}
Только админам. Работает.

GET /teams/{team_id} Просмотр информации о команде по её ID (глобальные админы или админ этой команды)
возвращает тело вида
{
  "id": 0,
  "name": "string",
  "invite_code": "string",
  "admin_id": 0,
  "members": [
    0
  ]
}
Только админам запрашиваемой команды. Работает.

POST /teams/{team_id}/members Добавление участника в команду (глобальные админы или админ команды)
Принимает параметр пути и тело вида
{
  "user_id": 0
}
Только админам запрашиваемой команды. Работает.

DELETE /teams/{team_id}/members/{user_id} Удаление участника из команды (глобальные админы или админ команды)
Принимает параметры пути
Только админам запрашиваемой команды. Работает.

PATCH /teams/{team_id}/members/{user_id}/role Изменение роли участника (только администраторы команды или системы)
Принимает параметр пути и тело вида
{
  "role": "admin"
}
Только админам запрашиваемой команды. Работает.



GET /meetings - Список встреч текущего пользователя (независимо от роли)
Возвращает тело вида:
[
  {
    "id": 2,
    "title": "string",
    "start_time": "2025-06-11T04:45:01.172000Z",
    "end_time": "2025-06-11T04:45:01.172000Z",
    "creator_id": 3,
    "participants": [
      1,
      3
    ]
  },
  {
    "id": 1,
    "title": "string",
    "start_time": "2025-06-11T05:08:18.728000Z",
    "end_time": "2025-06-11T05:08:18.728000Z",
    "creator_id": 3,
    "participants": [
      1,
      3
    ]
  }
]
Для любого пользователя. Работает

POST /meetings - Создание новой встречи. Проверка на пересечения по времени у участников (менеджер тоже учитывается).
Принимает тело вида
{
  "title": "string",
  "start_time": "2025-06-10T21:39:23.193Z",
  "end_time": "2025-06-10T21:39:23.193Z",
  "participants": [
    0
  ]
}
Только для менеджера. Работает

PUT /meetings/{meeting_id} - Обновление встречи. Только для менеджеров, если они являются создателями встречи.
Принимает параметр пути и тело вида
{
  "title": "string",
  "start_time": "2025-06-11T05:08:18.728Z",
  "end_time": "2025-06-11T05:08:18.728Z",
  "participants": [
    0
  ]
}
Только для менеджера. Работает

DELETE /meetings/{meeting_id} - Удаление встречи (только менеджер)
Принимает параметр пути.
Только для менеджер. Работает.



GET /tasks - Список задач.
Возвращает тело вида:
[
  {
    "id": 2,
    "title": "t1",
    "description": "d1",
    "status": "open",
    "creator_id": 3,
    "assignee_id": 1,
    "created_at": "2025-06-11T06:09:44.946048Z",
    "deadline": "2025-07-11T06:09:32.312000Z",
    "comments": [
      {
        "id": 3,
        "text": "Amazing!",
        "author_id": 3,
        "created_at": "2025-06-11T07:47:58.548575Z"
      }
    ],
    "evaluations": []
  },
]
Доступно всем. Рабоатет

GET /tasks/{task_id}/comments - Получить список комментариев по задаче.
Возвращает тело вида:
[
  {
    "id": 1,
    "text": "Nice!",
    "author_id": 3,
    "created_at": "2025-06-11T07:47:38.574612Z"
  },
  {
    "id": 2,
    "text": "Amazing!",
    "author_id": 3,
    "created_at": "2025-06-11T07:47:50.622135Z"
  }
]
Доступно всем. Работает

GET /tasks/{task_id}/evaluations Получить оценки по задаче.
Возвращает тело вида:
[
  {
    "id": 1,
    "score": 5,
    "evaluator_id": 3,
    "created_at": "2025-06-11T07:53:52.532070Z"
  }
]
Доступно всем. 

POST /tasks - Создание новой задачи. Доступно менеджерам и администраторам команды.
Принимает тело вида:
{
  "title": "string",
  "description": "string",
  "deadline": "2025-06-11T07:24:24.565Z",
  "assignee_id": 0,
  "status": "open"
}
Только для менеджера и админа. Работает.

POST /tasks/{task_id}/comments Добавление комментария (если пользователь в команде создателя/исполнителя).
Принимает параметр пути и тело вида:
{
  "text": "Amazing!"
}
Только для админа и участника команды. Работает

POST /tasks/{task_id}/evaluations Добавить оценку задаче (только DONE, и только менеджером/админом).
Принимает параметр пути и тело вида:
{
  "score": 5
}
только DONE, и только менеджером/админом. Работает

PUT /tasks/{task_id} Обновление задачи (создатель, менеджер или админ).
Принимает параметр аути и тело вида:
{
  "title": "string",
  "description": "string",
  "deadline": "2025-06-11T07:26:52.189Z",
  "assignee_id": 0,
  "status": "open"
}
Только для менеджера и админа. Работает.

DELETE /tasks/{task_id} Удаление задачи (только автор или админ).
Принимает параметр пути
Только для менеджера-создателя задачи и админа. Работает.



GET /calendar/daily/{target_date} Дневной вид: текстовая таблица задач и встреч на указанную дату YYYY-MM-DD
Принимает параметр пути. Возвращает тело вида:
Время      | Тип     | Заголовок
----------------------------------------
07:11     | Задача  | string
07:11     | Задача  | string
07:11     | Задача  | t2
07:26     | Задача  | string
04:45     | Встреча| string
04:45     | Встреча| string
05:08     | Встреча| string
05:08     | Встреча| string
Доступен всем. Работает

GET /calendar/mouthly/{year}/{month} Месячный вид: текстовая таблица с количеством задач и встреч на каждый день
Принимает параметр пути. Возвращает тело вида:
Дата       | Задач | Встреч
---------------------------
2025-06-01|   0   |   0   
2025-06-02|   0   |   0   
2025-06-03|   0   |   0   
2025-06-04|   0   |   0   
2025-06-05|   0   |   0   
2025-06-06|   0   |   0   
2025-06-07|   0   |   0   
2025-06-08|   0   |   0   
2025-06-09|   0   |   0   
2025-06-10|   0   |   0   
2025-06-11|   4   |   4   
2025-06-12|   0   |   0   
2025-06-13|   0   |   0   
2025-06-14|   0   |   0   
2025-06-15|   0   |   0   
2025-06-16|   0   |   0   
2025-06-17|   0   |   0   
2025-06-18|   0   |   0   
2025-06-19|   0   |   0   
2025-06-20|   0   |   0   
2025-06-21|   0   |   0   
2025-06-22|   0   |   0   
2025-06-23|   0   |   0   
2025-06-24|   0   |   0   
2025-06-25|   0   |   0   
2025-06-26|   0   |   0   
2025-06-27|   0   |   0   
2025-06-28|   0   |   0   
2025-06-29|   0   |   0   
2025-06-30|   0   |   0  
Доступен всем. Работает



GET /me Получить информацию о себе.
Возвращает тело вида:
{
  "id": 3,
  "email": "manager@example.com",
  "is_active": true,
  "is_superuser": false,
  "is_verified": false,
  "role": "manager",
  "team_id": 1
}
Всем. Работает.

PATCH /me Обновить информацию о себе.
Принимает тело вида:
{
  "password": "string",
  "email": "user@example.com",
  "is_active": true,
  "is_superuser": true,
  "is_verified": true,
  "role": "admin"
}
Доступен всем работает

GET /me/average_evaluation Получить среднюю оценку за указанный период.
Принимает 2 параметра пути с датой начала и конца периода
Возврашает тело вида:
{
  "average_score": 3.5
}
Доступен всем. Работает

DELETE /me Удалить свой профиль.
Доступен всем. Работает

POST /me/join_by_code
Принимает параметр запроса code
Работает.



Также админ панель реализована и доступна по адресу /admin
